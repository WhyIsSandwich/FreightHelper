const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-B_gwUFM9.js","assets/main-RNq9CwkP.css"])))=>i.map(i=>d[i]);
import{_,c as g,a as r,g as y,b as i,w as s,v as a,t as x,u as v,l as m,m as D,y as O,q as w}from"./main-B_gwUFM9.js";const S={name:"OrderCreate",setup(){const n=v(),e=m({system_name:"",client_name:"",order_value:0,due_date:"",external_order_id:"",system_distance_from_sol:0}),d=m(!1),t=D(()=>e.value.system_name&&e.value.client_name);return{formData:e,isFormValid:t,isSubmitting:d,handleSubmit:async()=>{if(t.value){d.value=!0;try{const l=new Date().toISOString().split("T")[0],o={system_name:e.value.system_name,client_name:e.value.client_name,start_date:l,due_date:e.value.due_date||null,order_value:e.value.order_value||0,external_order_id:e.value.external_order_id||null,system_distance_from_sol:e.value.system_distance_from_sol||0,sites:[]},{useOrderStore:f}=await O(async()=>{const{useOrderStore:b}=await import("./main-B_gwUFM9.js").then(p=>p.G);return{useOrderStore:b}},__vite__mapDeps([0,1])),c=await f().createOrder(o);n.push(`/order/${c.order_id}`)}catch(l){console.error("Error creating order:",l),alert("Failed to create order. Please try again.")}finally{d.value=!1}}}}}},V={class:"order-create"},C={class:"bg-white rounded-lg p-8 shadow-md"},k={class:"mb-6"},I={class:"flex items-center gap-3 mb-2"},N={class:"form-section"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},h={class:"form-group"},B={class:"form-group"},U={class:"form-group"},F={class:"form-group"},q={class:"form-group"},P={class:"form-actions flex gap-3 pt-4"},T=["disabled"];function A(n,e,d,t,u,l){return w(),g("div",V,[r("div",C,[r("div",k,[r("div",I,[r("button",{onClick:e[0]||(e[0]=o=>n.$router.push("/order")),class:"text-gray-600 hover:text-gray-800 transition-colors"}," ← Back to Orders ")]),e[8]||(e[8]=r("h1",{class:"text-3xl font-bold text-gray-900"},"Create New Order",-1)),e[9]||(e[9]=r("p",{class:"text-gray-600 mt-1"},"Set up the basic order information first.",-1))]),r("form",{onSubmit:e[7]||(e[7]=y((...o)=>t.handleSubmit&&t.handleSubmit(...o),["prevent"])),class:"space-y-8"},[i(" Order Basic Information "),r("div",N,[e[15]||(e[15]=r("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Order Information",-1)),r("div",E,[r("div",h,[e[10]||(e[10]=r("label",{for:"systemName",class:"block text-sm font-medium text-gray-700 mb-1"}," System Name * ",-1)),s(r("input",{id:"systemName","onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.system_name=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter system name"},null,512),[[a,t.formData.system_name]])]),r("div",B,[e[11]||(e[11]=r("label",{for:"clientName",class:"block text-sm font-medium text-gray-700 mb-1"}," Client Name * ",-1)),s(r("input",{id:"clientName","onUpdate:modelValue":e[2]||(e[2]=o=>t.formData.client_name=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"},null,512),[[a,t.formData.client_name]])]),r("div",U,[e[12]||(e[12]=r("label",{for:"orderValue",class:"block text-sm font-medium text-gray-700 mb-1"}," Order Value ",-1)),s(r("input",{id:"orderValue","onUpdate:modelValue":e[3]||(e[3]=o=>t.formData.order_value=o),type:"number",min:"0",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"},null,512),[[a,t.formData.order_value,void 0,{number:!0}]])]),r("div",F,[e[13]||(e[13]=r("label",{for:"dueDate",class:"block text-sm font-medium text-gray-700 mb-1"}," Due Date ",-1)),s(r("input",{id:"dueDate","onUpdate:modelValue":e[4]||(e[4]=o=>t.formData.due_date=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[a,t.formData.due_date]])]),r("div",q,[e[14]||(e[14]=r("label",{for:"externalOrderId",class:"block text-sm font-medium text-gray-700 mb-1"}," External Order ID ",-1)),s(r("input",{id:"externalOrderId","onUpdate:modelValue":e[5]||(e[5]=o=>t.formData.external_order_id=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional external order ID"},null,512),[[a,t.formData.external_order_id]])])])]),i(" Form Actions "),r("div",P,[r("button",{type:"submit",class:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium",disabled:!t.isFormValid||t.isSubmitting},x(t.isSubmitting?"Creating...":"Create Order"),9,T),r("button",{type:"button",onClick:e[6]||(e[6]=o=>n.$router.push("/order")),class:"px-6 py-3 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors font-medium"}," Cancel ")])],32)])])}const j=_(S,[["render",A],["__scopeId","data-v-d325cce2"],["__file","/app/src/js/components/OrderCreate.vue"]]);export{j as default};
